2025-08-11 12:11:07.616 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Forbidden: bot is not a member of the channel chat
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 18060)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 18060)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 18060)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 18060)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 18060)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F34C0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F2520>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF78B0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D78B91F90>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-314' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D78B91F90>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 373, in _request_wrapper
    raise Forbidden(message)
          │         └ 'Forbidden: bot is not a member of the channel chat'
          └ <class 'telegram.error.Forbidden'>

telegram.error.Forbidden: Forbidden: bot is not a member of the channel chat
2025-08-11 12:11:07.616 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Forbidden: bot is not a member of the channel chat
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 18060)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 18060)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 18060)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 18060)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 18060)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F34C0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F2520>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF78B0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D78B91F90>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-314' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D78B91F90>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 373, in _request_wrapper
    raise Forbidden(message)
          │         └ 'Forbidden: bot is not a member of the channel chat'
          └ <class 'telegram.error.Forbidden'>

telegram.error.Forbidden: Forbidden: bot is not a member of the channel chat
2025-08-11 12:11:07.616 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Forbidden: bot is not a member of the channel chat
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 18060)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 18060)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 18060)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 18060)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 18060)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F34C0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F2520>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF78B0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D78B91F90>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-314' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D78B91F90>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 373, in _request_wrapper
    raise Forbidden(message)
          │         └ 'Forbidden: bot is not a member of the channel chat'
          └ <class 'telegram.error.Forbidden'>

telegram.error.Forbidden: Forbidden: bot is not a member of the channel chat
2025-08-11 12:11:07.616 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Forbidden: bot is not a member of the channel chat
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 18060)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 18060)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 18060)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 18060)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 18060)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F34C0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F2520>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF78B0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D78B91F90>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-314' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D78B91F90>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 373, in _request_wrapper
    raise Forbidden(message)
          │         └ 'Forbidden: bot is not a member of the channel chat'
          └ <class 'telegram.error.Forbidden'>

telegram.error.Forbidden: Forbidden: bot is not a member of the channel chat
2025-08-11 12:11:07.616 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Forbidden: bot is not a member of the channel chat
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 18060)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 18060)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 18060)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 18060)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 18060)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F34C0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F2520>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF78B0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D78B91F90>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-314' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D78B91F90>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 373, in _request_wrapper
    raise Forbidden(message)
          │         └ 'Forbidden: bot is not a member of the channel chat'
          └ <class 'telegram.error.Forbidden'>

telegram.error.Forbidden: Forbidden: bot is not a member of the channel chat
2025-08-11 12:11:07.616 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Forbidden: bot is not a member of the channel chat
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 18060)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 18060)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 18060)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 18060)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 18060)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F34C0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F2520>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF78B0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D78B91F90>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-314' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D78B91F90>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 373, in _request_wrapper
    raise Forbidden(message)
          │         └ 'Forbidden: bot is not a member of the channel chat'
          └ <class 'telegram.error.Forbidden'>

telegram.error.Forbidden: Forbidden: bot is not a member of the channel chat
2025-08-11 12:11:07.616 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Forbidden: bot is not a member of the channel chat
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 18060)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 18060)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 18060)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 18060)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 18060)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F34C0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F2520>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF78B0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D78B91F90>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-314' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D78B91F90>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D78AB97E0>()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 373, in _request_wrapper
    raise Forbidden(message)
          │         └ 'Forbidden: bot is not a member of the channel chat'
          └ <class 'telegram.error.Forbidden'>

telegram.error.Forbidden: Forbidden: bot is not a member of the channel chat
2025-08-11 12:12:14.569 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:12:14.569 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:12:14.569 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:12:14.569 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:12:14.569 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:12:14.569 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:12:14.569 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:12:14.569 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:12:14.574 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x0000012D775F7420>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x0000012D770D14E0>
                 └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000012D770D1580>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x0000012D770D1620>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x0000012D770D16C0>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x0000012D770BE2A0>
                     └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x0000012D78C068E0>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x0000012D78C06A20>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x0000012D78C05BC0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x0000012D78C04CC0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x0000012D78C118A0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x0000012D78B93110>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x0000012D78B6EFC0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x0000012D78B93110>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x0000012D78C7A700>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x0000012D753E5A80>
    │    └ <_SelectorSocketTransport closing fd=1368>
    └ <anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x0000012D753E58A0>
    │    │               └ <_SelectorSocketTransport closing fd=1368>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1368>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x0000012D75372B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 10520)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 10520)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 10520)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 10520)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 10520)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F3600>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F2B60>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF78B0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D78B92210>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-343' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D78B92210>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:12:14.574 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x0000012D775F7420>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x0000012D770D14E0>
                 └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000012D770D1580>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x0000012D770D1620>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x0000012D770D16C0>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x0000012D770BE2A0>
                     └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x0000012D78C068E0>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x0000012D78C06A20>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x0000012D78C05BC0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x0000012D78C04CC0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x0000012D78C118A0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x0000012D78B93110>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x0000012D78B6EFC0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x0000012D78B93110>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x0000012D78C7A700>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x0000012D753E5A80>
    │    └ <_SelectorSocketTransport closing fd=1368>
    └ <anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x0000012D753E58A0>
    │    │               └ <_SelectorSocketTransport closing fd=1368>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1368>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x0000012D75372B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 10520)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 10520)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 10520)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 10520)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 10520)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F3600>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F2B60>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF78B0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D78B92210>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-343' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D78B92210>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:12:14.574 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x0000012D775F7420>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x0000012D770D14E0>
                 └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000012D770D1580>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x0000012D770D1620>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x0000012D770D16C0>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x0000012D770BE2A0>
                     └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x0000012D78C068E0>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x0000012D78C06A20>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x0000012D78C05BC0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x0000012D78C04CC0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x0000012D78C118A0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x0000012D78B93110>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x0000012D78B6EFC0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x0000012D78B93110>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x0000012D78C7A700>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x0000012D753E5A80>
    │    └ <_SelectorSocketTransport closing fd=1368>
    └ <anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x0000012D753E58A0>
    │    │               └ <_SelectorSocketTransport closing fd=1368>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1368>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x0000012D75372B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 10520)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 10520)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 10520)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 10520)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 10520)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F3600>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F2B60>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF78B0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D78B92210>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-343' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D78B92210>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:12:14.574 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x0000012D775F7420>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x0000012D770D14E0>
                 └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000012D770D1580>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x0000012D770D1620>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x0000012D770D16C0>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x0000012D770BE2A0>
                     └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x0000012D78C068E0>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x0000012D78C06A20>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x0000012D78C05BC0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x0000012D78C04CC0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x0000012D78C118A0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x0000012D78B93110>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x0000012D78B6EFC0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x0000012D78B93110>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x0000012D78C7A700>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x0000012D753E5A80>
    │    └ <_SelectorSocketTransport closing fd=1368>
    └ <anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x0000012D753E58A0>
    │    │               └ <_SelectorSocketTransport closing fd=1368>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1368>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x0000012D75372B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 10520)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 10520)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 10520)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 10520)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 10520)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F3600>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F2B60>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF78B0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D78B92210>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-343' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D78B92210>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:12:14.574 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x0000012D775F7420>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x0000012D770D14E0>
                 └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000012D770D1580>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x0000012D770D1620>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x0000012D770D16C0>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x0000012D770BE2A0>
                     └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x0000012D78C068E0>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x0000012D78C06A20>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x0000012D78C05BC0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x0000012D78C04CC0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x0000012D78C118A0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x0000012D78B93110>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x0000012D78B6EFC0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x0000012D78B93110>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x0000012D78C7A700>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x0000012D753E5A80>
    │    └ <_SelectorSocketTransport closing fd=1368>
    └ <anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x0000012D753E58A0>
    │    │               └ <_SelectorSocketTransport closing fd=1368>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1368>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x0000012D75372B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 10520)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 10520)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 10520)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 10520)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 10520)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F3600>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F2B60>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF78B0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D78B92210>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-343' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D78B92210>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:12:14.574 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x0000012D775F7420>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x0000012D770D14E0>
                 └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000012D770D1580>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x0000012D770D1620>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x0000012D770D16C0>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x0000012D770BE2A0>
                     └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x0000012D78C068E0>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x0000012D78C06A20>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x0000012D78C05BC0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x0000012D78C04CC0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x0000012D78C118A0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x0000012D78B93110>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x0000012D78B6EFC0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x0000012D78B93110>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x0000012D78C7A700>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x0000012D753E5A80>
    │    └ <_SelectorSocketTransport closing fd=1368>
    └ <anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x0000012D753E58A0>
    │    │               └ <_SelectorSocketTransport closing fd=1368>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1368>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x0000012D75372B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 10520)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 10520)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 10520)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 10520)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 10520)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F3600>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F2B60>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF78B0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D78B92210>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-343' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D78B92210>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:12:14.574 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x0000012D775F7420>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x0000012D770D14E0>
                 └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000012D770D1580>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x0000012D770D1620>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x0000012D770D16C0>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x0000012D770BE2A0>
                     └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x0000012D78C068E0>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x0000012D78C06A20>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x0000012D78C05BC0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x0000012D78C04CC0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x0000012D78C118A0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x0000012D78B93110>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x0000012D78B6EFC0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x0000012D78B93110>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x0000012D78C7A700>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x0000012D753E5A80>
    │    └ <_SelectorSocketTransport closing fd=1368>
    └ <anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x0000012D753E58A0>
    │    │               └ <_SelectorSocketTransport closing fd=1368>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1368>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x0000012D75372B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 10520)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 10520)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 10520)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 10520)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 10520)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F3600>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F2B60>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF78B0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D78B92210>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-343' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D78B92210>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:12:14.574 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x0000012D775F7420>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x0000012D770D14E0>
                 └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000012D770D1580>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x0000012D770D1620>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x0000012D770D16C0>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x0000012D770BE2A0>
                     └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x0000012D78C068E0>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x0000012D78C06A20>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x0000012D78C05BC0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x0000012D78C04CC0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x0000012D78C118A0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x0000012D78B93110>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x0000012D78B6EFC0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x0000012D78B93110>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x0000012D78C7A700>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x0000012D753E5A80>
    │    └ <_SelectorSocketTransport closing fd=1368>
    └ <anyio._backends._asyncio.SocketStream object at 0x0000012D78C35FD0>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x0000012D753E58A0>
    │    │               └ <_SelectorSocketTransport closing fd=1368>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1368>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x0000012D75372B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 10520)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 10520)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 10520)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 10520)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 10520)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='2857ae4d-9790-4b54-9ea5-c4b99afe6186', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F3600>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F2B60>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF78B0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D78B92210>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-343' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D78B92210>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000012D76EB5C90>()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:12:26.714 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:12:26.714 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:12:26.714 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:12:26.714 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:12:26.714 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:12:26.714 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:12:26.714 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:12:26.714 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:12:26.714 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:12:26.714 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:12:26.714 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:12:26.714 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:12:27.726 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x0000012D78C068E0>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x0000012D78C065C0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x0000012D78C68CD0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x0000012D78B9D760>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x0000012D78C68690>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x0000012D78C68CD0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x0000012D78A51F80>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x0000012D78BA7F10>
    └ <contextlib._GeneratorContextManager object at 0x0000012D78EBC280>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x0000012D770D14E0>
                 └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000012D770D1580>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x0000012D770D1620>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x0000012D770D16C0>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x0000012D770BE2A0>
                     └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x0000012D770BD8A0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x0000012D7865F840>
    └ <contextlib._GeneratorContextManager object at 0x0000012D78EBC0C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 6784)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 6784)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='bc9aa61b-3db6-4562-b94a-a8167c6e15cf', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='bc9aa61b-3db6-4562-b94a-a8167c6e15cf', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F1260>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F1EE0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF7CA0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D7868FE10>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-545' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D7868FE10>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x0000012D775F7420>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:12:27.726 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x0000012D78C068E0>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x0000012D78C065C0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x0000012D78C68CD0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x0000012D78B9D760>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x0000012D78C68690>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x0000012D78C68CD0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x0000012D78A51F80>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x0000012D78BA7F10>
    └ <contextlib._GeneratorContextManager object at 0x0000012D78EBC280>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x0000012D770D14E0>
                 └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000012D770D1580>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x0000012D770D1620>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x0000012D770D16C0>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x0000012D770BE2A0>
                     └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x0000012D770BD8A0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x0000012D7865F840>
    └ <contextlib._GeneratorContextManager object at 0x0000012D78EBC0C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 6784)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 6784)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='bc9aa61b-3db6-4562-b94a-a8167c6e15cf', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='bc9aa61b-3db6-4562-b94a-a8167c6e15cf', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F1260>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F1EE0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF7CA0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D7868FE10>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-545' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D7868FE10>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x0000012D775F7420>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:12:27.726 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x0000012D78C068E0>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x0000012D78C065C0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x0000012D78C68CD0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x0000012D78B9D760>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x0000012D78C68690>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x0000012D78C68CD0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x0000012D78A51F80>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x0000012D78BA7F10>
    └ <contextlib._GeneratorContextManager object at 0x0000012D78EBC280>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x0000012D770D14E0>
                 └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000012D770D1580>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x0000012D770D1620>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x0000012D770D16C0>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x0000012D770BE2A0>
                     └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x0000012D770BD8A0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x0000012D7865F840>
    └ <contextlib._GeneratorContextManager object at 0x0000012D78EBC0C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 6784)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 6784)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='bc9aa61b-3db6-4562-b94a-a8167c6e15cf', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='bc9aa61b-3db6-4562-b94a-a8167c6e15cf', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F1260>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F1EE0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF7CA0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D7868FE10>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-545' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D7868FE10>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x0000012D775F7420>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:12:27.726 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x0000012D78C068E0>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x0000012D78C065C0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x0000012D78C68CD0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x0000012D78B9D760>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x0000012D78C68690>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x0000012D78C68CD0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x0000012D78A51F80>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x0000012D78BA7F10>
    └ <contextlib._GeneratorContextManager object at 0x0000012D78EBC280>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x0000012D770D14E0>
                 └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000012D770D1580>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x0000012D770D1620>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x0000012D770D16C0>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x0000012D770BE2A0>
                     └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x0000012D770BD8A0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x0000012D7865F840>
    └ <contextlib._GeneratorContextManager object at 0x0000012D78EBC0C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 6784)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 6784)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='bc9aa61b-3db6-4562-b94a-a8167c6e15cf', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='bc9aa61b-3db6-4562-b94a-a8167c6e15cf', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F1260>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F1EE0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF7CA0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D7868FE10>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-545' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D7868FE10>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x0000012D775F7420>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:12:27.726 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x0000012D78C068E0>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x0000012D78C065C0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x0000012D78C68CD0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x0000012D78B9D760>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x0000012D78C68690>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x0000012D78C68CD0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x0000012D78A51F80>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x0000012D78BA7F10>
    └ <contextlib._GeneratorContextManager object at 0x0000012D78EBC280>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x0000012D770D14E0>
                 └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000012D770D1580>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x0000012D770D1620>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x0000012D770D16C0>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x0000012D770BE2A0>
                     └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x0000012D770BD8A0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x0000012D7865F840>
    └ <contextlib._GeneratorContextManager object at 0x0000012D78EBC0C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 6784)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 6784)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='bc9aa61b-3db6-4562-b94a-a8167c6e15cf', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='bc9aa61b-3db6-4562-b94a-a8167c6e15cf', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F1260>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F1EE0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF7CA0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D7868FE10>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-545' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D7868FE10>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x0000012D775F7420>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:12:27.726 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x0000012D78C068E0>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x0000012D78C065C0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x0000012D78C68CD0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x0000012D78B9D760>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x0000012D78C68690>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x0000012D78C68CD0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x0000012D78A51F80>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x0000012D78BA7F10>
    └ <contextlib._GeneratorContextManager object at 0x0000012D78EBC280>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x0000012D770D14E0>
                 └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000012D770D1580>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x0000012D770D1620>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x0000012D770D16C0>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x0000012D770BE2A0>
                     └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x0000012D770BD8A0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x0000012D7865F840>
    └ <contextlib._GeneratorContextManager object at 0x0000012D78EBC0C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 6784)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 6784)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='bc9aa61b-3db6-4562-b94a-a8167c6e15cf', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='bc9aa61b-3db6-4562-b94a-a8167c6e15cf', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F1260>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F1EE0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF7CA0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D7868FE10>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-545' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D7868FE10>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x0000012D775F7420>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:12:27.726 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x0000012D78C068E0>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x0000012D78C065C0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x0000012D78C68CD0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x0000012D78B9D760>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x0000012D78C68690>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x0000012D78C68CD0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x0000012D78A51F80>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x0000012D78BA7F10>
    └ <contextlib._GeneratorContextManager object at 0x0000012D78EBC280>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x0000012D770D14E0>
                 └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000012D770D1580>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x0000012D770D1620>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x0000012D770D16C0>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x0000012D770BE2A0>
                     └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x0000012D770BD8A0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x0000012D7865F840>
    └ <contextlib._GeneratorContextManager object at 0x0000012D78EBC0C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 6784)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 6784)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='bc9aa61b-3db6-4562-b94a-a8167c6e15cf', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='bc9aa61b-3db6-4562-b94a-a8167c6e15cf', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F1260>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F1EE0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF7CA0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D7868FE10>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-545' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D7868FE10>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x0000012D775F7420>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:12:27.726 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x0000012D78C068E0>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x0000012D78C065C0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x0000012D78C68CD0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x0000012D78B9D760>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x0000012D78C68690>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x0000012D78C68CD0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x0000012D78A51F80>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x0000012D78BA7F10>
    └ <contextlib._GeneratorContextManager object at 0x0000012D78EBC280>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x0000012D770D14E0>
                 └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000012D770D1580>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x0000012D770D1620>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x0000012D770D16C0>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x0000012D770BE2A0>
                     └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x0000012D770BD8A0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x0000012D7865F840>
    └ <contextlib._GeneratorContextManager object at 0x0000012D78EBC0C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 6784)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 6784)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='bc9aa61b-3db6-4562-b94a-a8167c6e15cf', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='bc9aa61b-3db6-4562-b94a-a8167c6e15cf', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F1260>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F1EE0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF7CA0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D7868FE10>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-545' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D7868FE10>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x0000012D775F7420>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:12:27.726 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x0000012D78C068E0>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x0000012D78C065C0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x0000012D78C68CD0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x0000012D78B9D760>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x0000012D78C68690>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x0000012D78C68CD0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x0000012D78A51F80>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x0000012D78BA7F10>
    └ <contextlib._GeneratorContextManager object at 0x0000012D78EBC280>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x0000012D770D14E0>
                 └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000012D770D1580>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x0000012D770D1620>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x0000012D770D16C0>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x0000012D770BE2A0>
                     └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x0000012D770BD8A0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x0000012D7865F840>
    └ <contextlib._GeneratorContextManager object at 0x0000012D78EBC0C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 6784)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 6784)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='bc9aa61b-3db6-4562-b94a-a8167c6e15cf', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='bc9aa61b-3db6-4562-b94a-a8167c6e15cf', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F1260>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F1EE0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF7CA0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D7868FE10>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-545' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D7868FE10>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x0000012D775F7420>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:12:27.726 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x0000012D78C068E0>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x0000012D78C065C0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x0000012D78C68CD0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x0000012D78B9D760>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x0000012D78C68690>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x0000012D78C68CD0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x0000012D78A51F80>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x0000012D78BA7F10>
    └ <contextlib._GeneratorContextManager object at 0x0000012D78EBC280>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x0000012D770D14E0>
                 └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000012D770D1580>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x0000012D770D1620>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x0000012D770D16C0>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x0000012D770BE2A0>
                     └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x0000012D770BD8A0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x0000012D7865F840>
    └ <contextlib._GeneratorContextManager object at 0x0000012D78EBC0C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 6784)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 6784)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='bc9aa61b-3db6-4562-b94a-a8167c6e15cf', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='bc9aa61b-3db6-4562-b94a-a8167c6e15cf', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F1260>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F1EE0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF7CA0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D7868FE10>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-545' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D7868FE10>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x0000012D775F7420>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:12:27.726 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x0000012D78C068E0>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x0000012D78C065C0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x0000012D78C68CD0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x0000012D78B9D760>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x0000012D78C68690>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x0000012D78C68CD0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x0000012D78A51F80>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x0000012D78BA7F10>
    └ <contextlib._GeneratorContextManager object at 0x0000012D78EBC280>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x0000012D770D14E0>
                 └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000012D770D1580>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x0000012D770D1620>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x0000012D770D16C0>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x0000012D770BE2A0>
                     └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x0000012D770BD8A0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x0000012D7865F840>
    └ <contextlib._GeneratorContextManager object at 0x0000012D78EBC0C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 6784)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 6784)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='bc9aa61b-3db6-4562-b94a-a8167c6e15cf', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='bc9aa61b-3db6-4562-b94a-a8167c6e15cf', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F1260>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F1EE0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF7CA0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D7868FE10>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-545' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D7868FE10>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x0000012D775F7420>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:12:27.726 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x0000012D78C068E0>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x0000012D78C065C0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x0000012D78C68CD0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x0000012D78B9D760>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x0000012D78C68690>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x0000012D78C68CD0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x0000012D78A51F80>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x0000012D78BA7F10>
    └ <contextlib._GeneratorContextManager object at 0x0000012D78EBC280>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x0000012D76FD6F90>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x0000012D770D14E0>
                 └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000012D770D1580>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x0000012D770D1620>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x0000012D770D16C0>
                     └ <httpx.AsyncClient object at 0x0000012D78B911D0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x0000012D770BE2A0>
                     └ <httpx.AsyncHTTPTransport object at 0x0000012D78B91A90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x0000012D770BD8A0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x0000012D7865F840>
    └ <contextlib._GeneratorContextManager object at 0x0000012D78EBC0C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000012D731351C0>
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x0000012D73134F40>
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 6784)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 6784)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='bc9aa61b-3db6-4562-b94a-a8167c6e15cf', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 6784)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x0000012D75722520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-9ba08...
    │    └ <function ScriptRunner._run_script at 0x0000012D7573BEC0>
    └ ScriptRunner(_session_id='bc9aa61b-3db6-4562-b94a-a8167c6e15cf', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x0000012D75C05B10, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 233, in <module>
    main()
    └ <function main at 0x0000012D787F1260>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 208, in main
    run_broadcast_now(
    └ <function run_broadcast_now at 0x0000012D787F1EE0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 65, in run_broadcast_now
    asyncio.run(broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size))
    │       │   │         │             │              │                        │                      └ 15
    │       │   │         │             │              │                        └ None
    │       │   │         │             │              └ 'Lets get easy solutions!'
    │       │   │         │             └ ['@asinachisolvestech']
    │       │   │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
    │       │   └ <function broadcast at 0x0000012D7877ADE0>
    │       └ <function run at 0x0000012D7531FC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object broadcast at 0x0000012D78AF7CA0>
           │      └ <function Runner.run at 0x0000012D75375800>
           └ <asyncio.runners.Runner object at 0x0000012D7868FE10>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-545' coro=<broadcast() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py:...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012D75373240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012D7868FE10>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012D753731A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012D75374FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012D75306CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'Lets get easy solutions!'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x0000012D7877ACA0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'Lets get easy solutions!'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x0000012D7870BB00>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x0000012D7870B7E0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x0000012D7870B560>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x0000012D7870B740>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x0000012D76FA63E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x0000012D76FA6520>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x0000012D775F7420>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x0000012D78769880>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
