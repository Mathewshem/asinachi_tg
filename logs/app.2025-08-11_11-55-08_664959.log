2025-08-11 12:04:47.366 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:04:47.366 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:04:47.366 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:04:47.366 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:04:47.366 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:04:47.366 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:04:47.366 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:04:47.366 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:04:47.366 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:04:47.366 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:04:47.366 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:04:47.366 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:04:47.366 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:04:47.366 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:04:47.366 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:04:47.366 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:04:47.366 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:04:47.366 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:04:47.366 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:04:47.366 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:04:47.366 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:04:47.366 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:04:50.990 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Message text is empty
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-cc502...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154CC0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-725' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ ''
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ ''
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ ''
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 382, in _request_wrapper
    raise BadRequest(message)
          │          └ 'Bad Request: message text is empty'
          └ <class 'telegram.error.BadRequest'>

telegram.error.BadRequest: Message text is empty
2025-08-11 12:04:50.990 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Message text is empty
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-cc502...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154CC0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-725' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ ''
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ ''
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ ''
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 382, in _request_wrapper
    raise BadRequest(message)
          │          └ 'Bad Request: message text is empty'
          └ <class 'telegram.error.BadRequest'>

telegram.error.BadRequest: Message text is empty
2025-08-11 12:04:50.990 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Message text is empty
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-cc502...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154CC0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-725' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ ''
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ ''
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ ''
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 382, in _request_wrapper
    raise BadRequest(message)
          │          └ 'Bad Request: message text is empty'
          └ <class 'telegram.error.BadRequest'>

telegram.error.BadRequest: Message text is empty
2025-08-11 12:04:50.990 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Message text is empty
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-cc502...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154CC0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-725' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ ''
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ ''
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ ''
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 382, in _request_wrapper
    raise BadRequest(message)
          │          └ 'Bad Request: message text is empty'
          └ <class 'telegram.error.BadRequest'>

telegram.error.BadRequest: Message text is empty
2025-08-11 12:04:50.990 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Message text is empty
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-cc502...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154CC0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-725' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ ''
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ ''
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ ''
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 382, in _request_wrapper
    raise BadRequest(message)
          │          └ 'Bad Request: message text is empty'
          └ <class 'telegram.error.BadRequest'>

telegram.error.BadRequest: Message text is empty
2025-08-11 12:04:50.990 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Message text is empty
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-cc502...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154CC0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-725' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ ''
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ ''
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ ''
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 382, in _request_wrapper
    raise BadRequest(message)
          │          └ 'Bad Request: message text is empty'
          └ <class 'telegram.error.BadRequest'>

telegram.error.BadRequest: Message text is empty
2025-08-11 12:04:50.990 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Message text is empty
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-cc502...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154CC0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-725' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ ''
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ ''
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ ''
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 382, in _request_wrapper
    raise BadRequest(message)
          │          └ 'Bad Request: message text is empty'
          └ <class 'telegram.error.BadRequest'>

telegram.error.BadRequest: Message text is empty
2025-08-11 12:04:50.990 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Message text is empty
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-cc502...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154CC0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-725' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ ''
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ ''
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ ''
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 382, in _request_wrapper
    raise BadRequest(message)
          │          └ 'Bad Request: message text is empty'
          └ <class 'telegram.error.BadRequest'>

telegram.error.BadRequest: Message text is empty
2025-08-11 12:04:50.990 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Message text is empty
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-cc502...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154CC0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-725' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ ''
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ ''
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ ''
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 382, in _request_wrapper
    raise BadRequest(message)
          │          └ 'Bad Request: message text is empty'
          └ <class 'telegram.error.BadRequest'>

telegram.error.BadRequest: Message text is empty
2025-08-11 12:04:50.990 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Message text is empty
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-cc502...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154CC0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-725' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ ''
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ ''
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ ''
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 382, in _request_wrapper
    raise BadRequest(message)
          │          └ 'Bad Request: message text is empty'
          └ <class 'telegram.error.BadRequest'>

telegram.error.BadRequest: Message text is empty
2025-08-11 12:04:50.990 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Message text is empty
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-cc502...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154CC0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-725' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ ''
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ ''
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ ''
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 382, in _request_wrapper
    raise BadRequest(message)
          │          └ 'Bad Request: message text is empty'
          └ <class 'telegram.error.BadRequest'>

telegram.error.BadRequest: Message text is empty
2025-08-11 12:04:50.990 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Message text is empty
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-cc502...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154CC0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-725' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ ''
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ ''
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ ''
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 382, in _request_wrapper
    raise BadRequest(message)
          │          └ 'Bad Request: message text is empty'
          └ <class 'telegram.error.BadRequest'>

telegram.error.BadRequest: Message text is empty
2025-08-11 12:04:50.990 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Message text is empty
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-cc502...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154CC0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-725' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ ''
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ ''
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ ''
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 382, in _request_wrapper
    raise BadRequest(message)
          │          └ 'Bad Request: message text is empty'
          └ <class 'telegram.error.BadRequest'>

telegram.error.BadRequest: Message text is empty
2025-08-11 12:04:50.990 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Message text is empty
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-cc502...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154CC0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-725' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ ''
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ ''
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ ''
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 382, in _request_wrapper
    raise BadRequest(message)
          │          └ 'Bad Request: message text is empty'
          └ <class 'telegram.error.BadRequest'>

telegram.error.BadRequest: Message text is empty
2025-08-11 12:04:50.990 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Message text is empty
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-cc502...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154CC0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-725' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ ''
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ ''
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ ''
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 382, in _request_wrapper
    raise BadRequest(message)
          │          └ 'Bad Request: message text is empty'
          └ <class 'telegram.error.BadRequest'>

telegram.error.BadRequest: Message text is empty
2025-08-11 12:04:50.990 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Message text is empty
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-cc502...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154CC0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-725' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ ''
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ ''
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ ''
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 382, in _request_wrapper
    raise BadRequest(message)
          │          └ 'Bad Request: message text is empty'
          └ <class 'telegram.error.BadRequest'>

telegram.error.BadRequest: Message text is empty
2025-08-11 12:04:50.990 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Message text is empty
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-cc502...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154CC0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-725' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ ''
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ ''
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ ''
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 382, in _request_wrapper
    raise BadRequest(message)
          │          └ 'Bad Request: message text is empty'
          └ <class 'telegram.error.BadRequest'>

telegram.error.BadRequest: Message text is empty
2025-08-11 12:04:50.990 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Message text is empty
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-cc502...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154CC0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-725' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ ''
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ ''
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ ''
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 382, in _request_wrapper
    raise BadRequest(message)
          │          └ 'Bad Request: message text is empty'
          └ <class 'telegram.error.BadRequest'>

telegram.error.BadRequest: Message text is empty
2025-08-11 12:04:50.990 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Message text is empty
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-cc502...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154CC0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-725' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ ''
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ ''
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ ''
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 382, in _request_wrapper
    raise BadRequest(message)
          │          └ 'Bad Request: message text is empty'
          └ <class 'telegram.error.BadRequest'>

telegram.error.BadRequest: Message text is empty
2025-08-11 12:04:50.990 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Message text is empty
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-cc502...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154CC0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-725' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ ''
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ ''
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ ''
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 382, in _request_wrapper
    raise BadRequest(message)
          │          └ 'Bad Request: message text is empty'
          └ <class 'telegram.error.BadRequest'>

telegram.error.BadRequest: Message text is empty
2025-08-11 12:04:50.990 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Message text is empty
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-cc502...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154CC0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-725' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ ''
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ ''
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ ''
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 382, in _request_wrapper
    raise BadRequest(message)
          │          └ 'Bad Request: message text is empty'
          └ <class 'telegram.error.BadRequest'>

telegram.error.BadRequest: Message text is empty
2025-08-11 12:04:50.990 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Message text is empty
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 15652)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 15652)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-cc502...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154CC0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-725' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E164690>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C0B20>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ ''
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ ''
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ ''
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 382, in _request_wrapper
    raise BadRequest(message)
          │          └ 'Bad Request: message text is empty'
          └ <class 'telegram.error.BadRequest'>

telegram.error.BadRequest: Message text is empty
2025-08-11 12:05:23.602 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:05:23.602 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:05:23.602 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:05:23.602 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:05:23.602 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:05:23.602 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:05:23.602 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:05:23.602 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:05:23.602 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:05:23.602 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:05:23.602 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:05:23.602 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:05:23.602 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:05:23.602 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:05:23.602 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:05:23.602 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:05:23.602 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:05:23.602 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:05:23.602 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:05:23.602 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:05:23.602 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:05:23.602 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:05:23.602 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:05:23.602 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:05:23.602 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:05:23.611 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x000001F58E556340>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x000001F58E5554E0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x000001F58E5545E0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x000001F58E5711C0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x000001F58E4B28E0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x000001F58E5ADDA0>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x000001F58AC85A80>
    │    └ <_SelectorSocketTransport closing fd=1552>
    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x000001F58AC858A0>
    │    │               └ <_SelectorSocketTransport closing fd=1552>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1552>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x000001F58AC12B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-803f3...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154860>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-835' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'how are you everyone i hope you dey do better o'
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'how are you everyone i hope you dey do better o'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'how are you everyone i hope you dey do better o'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:05:23.611 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x000001F58E556340>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x000001F58E5554E0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x000001F58E5545E0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x000001F58E5711C0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x000001F58E4B28E0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x000001F58E5ADDA0>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x000001F58AC85A80>
    │    └ <_SelectorSocketTransport closing fd=1552>
    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x000001F58AC858A0>
    │    │               └ <_SelectorSocketTransport closing fd=1552>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1552>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x000001F58AC12B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-803f3...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154860>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-835' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'how are you everyone i hope you dey do better o'
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'how are you everyone i hope you dey do better o'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'how are you everyone i hope you dey do better o'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:05:23.611 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x000001F58E556340>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x000001F58E5554E0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x000001F58E5545E0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x000001F58E5711C0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x000001F58E4B28E0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x000001F58E5ADDA0>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x000001F58AC85A80>
    │    └ <_SelectorSocketTransport closing fd=1552>
    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x000001F58AC858A0>
    │    │               └ <_SelectorSocketTransport closing fd=1552>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1552>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x000001F58AC12B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-803f3...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154860>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-835' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'how are you everyone i hope you dey do better o'
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'how are you everyone i hope you dey do better o'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'how are you everyone i hope you dey do better o'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:05:23.611 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x000001F58E556340>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x000001F58E5554E0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x000001F58E5545E0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x000001F58E5711C0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x000001F58E4B28E0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x000001F58E5ADDA0>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x000001F58AC85A80>
    │    └ <_SelectorSocketTransport closing fd=1552>
    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x000001F58AC858A0>
    │    │               └ <_SelectorSocketTransport closing fd=1552>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1552>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x000001F58AC12B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-803f3...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154860>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-835' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'how are you everyone i hope you dey do better o'
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'how are you everyone i hope you dey do better o'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'how are you everyone i hope you dey do better o'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:05:23.611 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x000001F58E556340>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x000001F58E5554E0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x000001F58E5545E0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x000001F58E5711C0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x000001F58E4B28E0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x000001F58E5ADDA0>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x000001F58AC85A80>
    │    └ <_SelectorSocketTransport closing fd=1552>
    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x000001F58AC858A0>
    │    │               └ <_SelectorSocketTransport closing fd=1552>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1552>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x000001F58AC12B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-803f3...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154860>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-835' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'how are you everyone i hope you dey do better o'
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'how are you everyone i hope you dey do better o'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'how are you everyone i hope you dey do better o'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:05:23.611 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x000001F58E556340>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x000001F58E5554E0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x000001F58E5545E0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x000001F58E5711C0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x000001F58E4B28E0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x000001F58E5ADDA0>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x000001F58AC85A80>
    │    └ <_SelectorSocketTransport closing fd=1552>
    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x000001F58AC858A0>
    │    │               └ <_SelectorSocketTransport closing fd=1552>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1552>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x000001F58AC12B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-803f3...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154860>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-835' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'how are you everyone i hope you dey do better o'
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'how are you everyone i hope you dey do better o'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'how are you everyone i hope you dey do better o'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:05:23.611 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x000001F58E556340>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x000001F58E5554E0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x000001F58E5545E0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x000001F58E5711C0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x000001F58E4B28E0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x000001F58E5ADDA0>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x000001F58AC85A80>
    │    └ <_SelectorSocketTransport closing fd=1552>
    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x000001F58AC858A0>
    │    │               └ <_SelectorSocketTransport closing fd=1552>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1552>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x000001F58AC12B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-803f3...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154860>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-835' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'how are you everyone i hope you dey do better o'
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'how are you everyone i hope you dey do better o'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'how are you everyone i hope you dey do better o'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:05:23.611 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x000001F58E556340>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x000001F58E5554E0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x000001F58E5545E0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x000001F58E5711C0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x000001F58E4B28E0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x000001F58E5ADDA0>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x000001F58AC85A80>
    │    └ <_SelectorSocketTransport closing fd=1552>
    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x000001F58AC858A0>
    │    │               └ <_SelectorSocketTransport closing fd=1552>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1552>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x000001F58AC12B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-803f3...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154860>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-835' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'how are you everyone i hope you dey do better o'
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'how are you everyone i hope you dey do better o'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'how are you everyone i hope you dey do better o'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:05:23.611 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x000001F58E556340>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x000001F58E5554E0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x000001F58E5545E0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x000001F58E5711C0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x000001F58E4B28E0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x000001F58E5ADDA0>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x000001F58AC85A80>
    │    └ <_SelectorSocketTransport closing fd=1552>
    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x000001F58AC858A0>
    │    │               └ <_SelectorSocketTransport closing fd=1552>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1552>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x000001F58AC12B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-803f3...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154860>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-835' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'how are you everyone i hope you dey do better o'
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'how are you everyone i hope you dey do better o'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'how are you everyone i hope you dey do better o'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:05:23.611 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x000001F58E556340>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x000001F58E5554E0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x000001F58E5545E0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x000001F58E5711C0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x000001F58E4B28E0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x000001F58E5ADDA0>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x000001F58AC85A80>
    │    └ <_SelectorSocketTransport closing fd=1552>
    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x000001F58AC858A0>
    │    │               └ <_SelectorSocketTransport closing fd=1552>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1552>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x000001F58AC12B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-803f3...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154860>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-835' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'how are you everyone i hope you dey do better o'
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'how are you everyone i hope you dey do better o'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'how are you everyone i hope you dey do better o'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:05:23.611 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x000001F58E556340>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x000001F58E5554E0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x000001F58E5545E0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x000001F58E5711C0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x000001F58E4B28E0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x000001F58E5ADDA0>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x000001F58AC85A80>
    │    └ <_SelectorSocketTransport closing fd=1552>
    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x000001F58AC858A0>
    │    │               └ <_SelectorSocketTransport closing fd=1552>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1552>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x000001F58AC12B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-803f3...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154860>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-835' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'how are you everyone i hope you dey do better o'
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'how are you everyone i hope you dey do better o'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'how are you everyone i hope you dey do better o'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:05:23.611 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x000001F58E556340>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x000001F58E5554E0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x000001F58E5545E0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x000001F58E5711C0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x000001F58E4B28E0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x000001F58E5ADDA0>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x000001F58AC85A80>
    │    └ <_SelectorSocketTransport closing fd=1552>
    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x000001F58AC858A0>
    │    │               └ <_SelectorSocketTransport closing fd=1552>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1552>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x000001F58AC12B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-803f3...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154860>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-835' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'how are you everyone i hope you dey do better o'
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'how are you everyone i hope you dey do better o'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'how are you everyone i hope you dey do better o'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:05:23.611 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x000001F58E556340>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x000001F58E5554E0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x000001F58E5545E0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x000001F58E5711C0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x000001F58E4B28E0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x000001F58E5ADDA0>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x000001F58AC85A80>
    │    └ <_SelectorSocketTransport closing fd=1552>
    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x000001F58AC858A0>
    │    │               └ <_SelectorSocketTransport closing fd=1552>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1552>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x000001F58AC12B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-803f3...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154860>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-835' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'how are you everyone i hope you dey do better o'
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'how are you everyone i hope you dey do better o'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'how are you everyone i hope you dey do better o'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:05:23.611 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x000001F58E556340>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x000001F58E5554E0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x000001F58E5545E0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x000001F58E5711C0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x000001F58E4B28E0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x000001F58E5ADDA0>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x000001F58AC85A80>
    │    └ <_SelectorSocketTransport closing fd=1552>
    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x000001F58AC858A0>
    │    │               └ <_SelectorSocketTransport closing fd=1552>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1552>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x000001F58AC12B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-803f3...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154860>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-835' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'how are you everyone i hope you dey do better o'
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'how are you everyone i hope you dey do better o'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'how are you everyone i hope you dey do better o'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:05:23.611 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x000001F58E556340>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x000001F58E5554E0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x000001F58E5545E0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x000001F58E5711C0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x000001F58E4B28E0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x000001F58E5ADDA0>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x000001F58AC85A80>
    │    └ <_SelectorSocketTransport closing fd=1552>
    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x000001F58AC858A0>
    │    │               └ <_SelectorSocketTransport closing fd=1552>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1552>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x000001F58AC12B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-803f3...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154860>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-835' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'how are you everyone i hope you dey do better o'
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'how are you everyone i hope you dey do better o'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'how are you everyone i hope you dey do better o'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:05:23.611 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x000001F58E556340>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x000001F58E5554E0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x000001F58E5545E0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x000001F58E5711C0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x000001F58E4B28E0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x000001F58E5ADDA0>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x000001F58AC85A80>
    │    └ <_SelectorSocketTransport closing fd=1552>
    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x000001F58AC858A0>
    │    │               └ <_SelectorSocketTransport closing fd=1552>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1552>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x000001F58AC12B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-803f3...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154860>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-835' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'how are you everyone i hope you dey do better o'
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'how are you everyone i hope you dey do better o'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'how are you everyone i hope you dey do better o'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:05:23.611 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x000001F58E556340>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x000001F58E5554E0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x000001F58E5545E0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x000001F58E5711C0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x000001F58E4B28E0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x000001F58E5ADDA0>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x000001F58AC85A80>
    │    └ <_SelectorSocketTransport closing fd=1552>
    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x000001F58AC858A0>
    │    │               └ <_SelectorSocketTransport closing fd=1552>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1552>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x000001F58AC12B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-803f3...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154860>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-835' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'how are you everyone i hope you dey do better o'
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'how are you everyone i hope you dey do better o'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'how are you everyone i hope you dey do better o'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:05:23.611 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x000001F58E556340>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x000001F58E5554E0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x000001F58E5545E0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x000001F58E5711C0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x000001F58E4B28E0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x000001F58E5ADDA0>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x000001F58AC85A80>
    │    └ <_SelectorSocketTransport closing fd=1552>
    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x000001F58AC858A0>
    │    │               └ <_SelectorSocketTransport closing fd=1552>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1552>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x000001F58AC12B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-803f3...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154860>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-835' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'how are you everyone i hope you dey do better o'
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'how are you everyone i hope you dey do better o'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'how are you everyone i hope you dey do better o'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:05:23.611 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x000001F58E556340>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x000001F58E5554E0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x000001F58E5545E0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x000001F58E5711C0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x000001F58E4B28E0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x000001F58E5ADDA0>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x000001F58AC85A80>
    │    └ <_SelectorSocketTransport closing fd=1552>
    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x000001F58AC858A0>
    │    │               └ <_SelectorSocketTransport closing fd=1552>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1552>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x000001F58AC12B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-803f3...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154860>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-835' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'how are you everyone i hope you dey do better o'
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'how are you everyone i hope you dey do better o'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'how are you everyone i hope you dey do better o'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:05:23.611 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x000001F58E556340>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x000001F58E5554E0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x000001F58E5545E0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x000001F58E5711C0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x000001F58E4B28E0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x000001F58E5ADDA0>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x000001F58AC85A80>
    │    └ <_SelectorSocketTransport closing fd=1552>
    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x000001F58AC858A0>
    │    │               └ <_SelectorSocketTransport closing fd=1552>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1552>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x000001F58AC12B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-803f3...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154860>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-835' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'how are you everyone i hope you dey do better o'
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'how are you everyone i hope you dey do better o'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'how are you everyone i hope you dey do better o'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:05:23.611 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x000001F58E556340>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x000001F58E5554E0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x000001F58E5545E0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x000001F58E5711C0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x000001F58E4B28E0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x000001F58E5ADDA0>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x000001F58AC85A80>
    │    └ <_SelectorSocketTransport closing fd=1552>
    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x000001F58AC858A0>
    │    │               └ <_SelectorSocketTransport closing fd=1552>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1552>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x000001F58AC12B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-803f3...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154860>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-835' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'how are you everyone i hope you dey do better o'
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'how are you everyone i hope you dey do better o'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'how are you everyone i hope you dey do better o'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:05:23.611 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x000001F58E556340>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x000001F58E5554E0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x000001F58E5545E0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x000001F58E5711C0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x000001F58E4B28E0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x000001F58E5ADDA0>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x000001F58AC85A80>
    │    └ <_SelectorSocketTransport closing fd=1552>
    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x000001F58AC858A0>
    │    │               └ <_SelectorSocketTransport closing fd=1552>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1552>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x000001F58AC12B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-803f3...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154860>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-835' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'how are you everyone i hope you dey do better o'
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'how are you everyone i hope you dey do better o'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'how are you everyone i hope you dey do better o'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:05:23.611 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x000001F58E556340>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x000001F58E5554E0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x000001F58E5545E0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x000001F58E5711C0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x000001F58E4B28E0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x000001F58E5ADDA0>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x000001F58AC85A80>
    │    └ <_SelectorSocketTransport closing fd=1552>
    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x000001F58AC858A0>
    │    │               └ <_SelectorSocketTransport closing fd=1552>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1552>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x000001F58AC12B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-803f3...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154860>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-835' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'how are you everyone i hope you dey do better o'
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'how are you everyone i hope you dey do better o'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'how are you everyone i hope you dey do better o'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:05:23.611 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x000001F58E556340>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x000001F58E5554E0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x000001F58E5545E0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x000001F58E5711C0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x000001F58E4B28E0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x000001F58E5ADDA0>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x000001F58AC85A80>
    │    └ <_SelectorSocketTransport closing fd=1552>
    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x000001F58AC858A0>
    │    │               └ <_SelectorSocketTransport closing fd=1552>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1552>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x000001F58AC12B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-803f3...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154860>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-835' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'how are you everyone i hope you dey do better o'
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'how are you everyone i hope you dey do better o'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'how are you everyone i hope you dey do better o'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:05:23.611 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 229, in handle_async_request
    await self._close_connections(closing)
          │    │                  └ []
          │    └ <function AsyncConnectionPool._close_connections at 0x000001F58E556340>
          └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 345, in _close_connections
    await connection.aclose()
          │          └ <function AsyncHTTPConnection.aclose at 0x000001F58E5554E0>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection.py", line 173, in aclose
    await self._connection.aclose()
          │    │           └ <function AsyncHTTP11Connection.aclose at 0x000001F58E5545E0>
          │    └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
          └ <AsyncHTTPConnection ['https://api.telegram.org:443', HTTP/1.1, CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\http11.py", line 258, in aclose
    await self._network_stream.aclose()
          │    │               └ <function AnyIOStream.aclose at 0x000001F58E5711C0>
          │    └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
          └ <AsyncHTTP11Connection ['https://api.telegram.org:443', CLOSED, Request Count: 1]>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_backends\anyio.py", line 53, in aclose
    await self._stream.aclose()
          │    │       └ <function TLSStream.aclose at 0x000001F58E4B28E0>
          │    └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
          └ <httpcore._backends.anyio.AnyIOStream object at 0x000001F58E575D10>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\streams\tls.py", line 234, in aclose
    await self.transport_stream.aclose()
          │    │                └ <function SocketStream.aclose at 0x000001F58E5ADDA0>
          │    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
          └ TLSStream(transport_stream=<anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>, standard_compatible=False, _...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 1314, in aclose
    self._transport.close()
    │    │          └ <function _SelectorSocketTransport.close at 0x000001F58AC85A80>
    │    └ <_SelectorSocketTransport closing fd=1552>
    └ <anyio._backends._asyncio.SocketStream object at 0x000001F58E57A660>
  File "C:\Python313\Lib\asyncio\selector_events.py", line 1205, in close
    super().close()
  File "C:\Python313\Lib\asyncio\selector_events.py", line 865, in close
    self._loop.call_soon(self._call_connection_lost, None)
    │    │               │    └ <function _SelectorSocketTransport._call_connection_lost at 0x000001F58AC858A0>
    │    │               └ <_SelectorSocketTransport closing fd=1552>
    │    └ <member '_loop' of '_FlowControlMixin' objects>
    └ <_SelectorSocketTransport closing fd=1552>
  File "C:\Python313\Lib\asyncio\base_events.py", line 827, in call_soon
    self._check_closed()
    │    └ <function BaseEventLoop._check_closed at 0x000001F58AC12B60>
    └ <_WindowsSelectorEventLoop running=False closed=True debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 550, in _check_closed
    raise RuntimeError('Event loop is closed')

RuntimeError: Event loop is closed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 5128)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 5128)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-803f3...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='ff46fcc5-2716-4b0d-a2d9-cacdb7102c9d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154900>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E154860>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB560>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-835' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E575810>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001F58E1C21A0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'how are you everyone i hope you dey do better o'
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'how are you everyone i hope you dey do better o'
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'how are you everyone i hope you dey do better o'
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 345, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
          └ <class 'telegram.error.NetworkError'>

telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:04.845 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:06:05.857 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x000001F58E555EE0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x000001F58E4E5080>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x000001F58E577390>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x000001F58E1E5800>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000001F58E4F9990>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F6C80>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x000001F58C9D54E0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x000001F58E54E740>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F7930>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-c9f8a...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154CC0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E1567A0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB450>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1004' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app....
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:06:05.857 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x000001F58E555EE0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x000001F58E4E5080>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x000001F58E577390>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x000001F58E1E5800>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000001F58E4F9990>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F6C80>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x000001F58C9D54E0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x000001F58E54E740>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F7930>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-c9f8a...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154CC0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E1567A0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB450>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1004' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app....
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:06:05.857 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x000001F58E555EE0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x000001F58E4E5080>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x000001F58E577390>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x000001F58E1E5800>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000001F58E4F9990>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F6C80>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x000001F58C9D54E0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x000001F58E54E740>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F7930>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-c9f8a...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154CC0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E1567A0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB450>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1004' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app....
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:06:05.857 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x000001F58E555EE0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x000001F58E4E5080>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x000001F58E577390>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x000001F58E1E5800>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000001F58E4F9990>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F6C80>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x000001F58C9D54E0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x000001F58E54E740>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F7930>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-c9f8a...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154CC0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E1567A0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB450>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1004' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app....
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:06:05.857 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x000001F58E555EE0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x000001F58E4E5080>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x000001F58E577390>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x000001F58E1E5800>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000001F58E4F9990>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F6C80>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x000001F58C9D54E0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x000001F58E54E740>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F7930>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-c9f8a...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154CC0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E1567A0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB450>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1004' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app....
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:06:05.857 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x000001F58E555EE0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x000001F58E4E5080>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x000001F58E577390>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x000001F58E1E5800>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000001F58E4F9990>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F6C80>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x000001F58C9D54E0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x000001F58E54E740>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F7930>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-c9f8a...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154CC0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E1567A0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB450>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1004' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app....
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:06:05.857 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x000001F58E555EE0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x000001F58E4E5080>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x000001F58E577390>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x000001F58E1E5800>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000001F58E4F9990>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F6C80>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x000001F58C9D54E0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x000001F58E54E740>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F7930>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-c9f8a...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154CC0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E1567A0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB450>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1004' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app....
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:06:05.857 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x000001F58E555EE0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x000001F58E4E5080>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x000001F58E577390>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x000001F58E1E5800>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000001F58E4F9990>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F6C80>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x000001F58C9D54E0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x000001F58E54E740>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F7930>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-c9f8a...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154CC0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E1567A0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB450>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1004' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app....
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:06:05.857 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x000001F58E555EE0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x000001F58E4E5080>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x000001F58E577390>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x000001F58E1E5800>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000001F58E4F9990>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F6C80>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x000001F58C9D54E0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x000001F58E54E740>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F7930>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-c9f8a...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154CC0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E1567A0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB450>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1004' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app....
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:06:05.857 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x000001F58E555EE0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x000001F58E4E5080>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x000001F58E577390>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x000001F58E1E5800>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000001F58E4F9990>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F6C80>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x000001F58C9D54E0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x000001F58E54E740>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F7930>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-c9f8a...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154CC0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E1567A0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB450>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1004' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app....
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:06:05.857 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x000001F58E555EE0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x000001F58E4E5080>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x000001F58E577390>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x000001F58E1E5800>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000001F58E4F9990>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F6C80>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x000001F58C9D54E0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x000001F58E54E740>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F7930>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-c9f8a...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154CC0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E1567A0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB450>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1004' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app....
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:06:05.857 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x000001F58E555EE0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x000001F58E4E5080>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x000001F58E577390>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x000001F58E1E5800>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000001F58E4F9990>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F6C80>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x000001F58C9D54E0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x000001F58E54E740>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F7930>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-c9f8a...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154CC0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E1567A0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB450>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1004' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app....
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:06:05.857 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x000001F58E555EE0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x000001F58E4E5080>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x000001F58E577390>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x000001F58E1E5800>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000001F58E4F9990>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F6C80>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x000001F58C9D54E0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x000001F58E54E740>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F7930>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-c9f8a...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154CC0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E1567A0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB450>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1004' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app....
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:06:05.857 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x000001F58E555EE0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x000001F58E4E5080>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x000001F58E577390>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x000001F58E1E5800>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000001F58E4F9990>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F6C80>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x000001F58C9D54E0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x000001F58E54E740>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F7930>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-c9f8a...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154CC0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E1567A0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB450>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1004' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app....
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:06:05.857 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x000001F58E555EE0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x000001F58E4E5080>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x000001F58E577390>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x000001F58E1E5800>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000001F58E4F9990>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F6C80>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x000001F58C9D54E0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x000001F58E54E740>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F7930>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-c9f8a...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154CC0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E1567A0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB450>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1004' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app....
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:06:05.857 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x000001F58E555EE0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x000001F58E4E5080>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x000001F58E577390>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x000001F58E1E5800>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000001F58E4F9990>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F6C80>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x000001F58C9D54E0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x000001F58E54E740>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F7930>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-c9f8a...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154CC0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E1567A0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB450>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1004' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app....
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:06:05.857 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x000001F58E555EE0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x000001F58E4E5080>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x000001F58E577390>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x000001F58E1E5800>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000001F58E4F9990>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F6C80>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x000001F58C9D54E0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x000001F58E54E740>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F7930>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-c9f8a...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154CC0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E1567A0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB450>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1004' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app....
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:06:05.857 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x000001F58E555EE0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x000001F58E4E5080>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x000001F58E577390>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x000001F58E1E5800>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000001F58E4F9990>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F6C80>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x000001F58C9D54E0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x000001F58E54E740>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F7930>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-c9f8a...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154CC0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E1567A0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB450>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1004' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app....
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:06:05.857 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x000001F58E555EE0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x000001F58E4E5080>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x000001F58E577390>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x000001F58E1E5800>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000001F58E4F9990>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F6C80>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x000001F58C9D54E0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x000001F58E54E740>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F7930>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-c9f8a...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154CC0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E1567A0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB450>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1004' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app....
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:06:05.857 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x000001F58E555EE0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x000001F58E4E5080>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x000001F58E577390>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x000001F58E1E5800>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000001F58E4F9990>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F6C80>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x000001F58C9D54E0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x000001F58E54E740>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F7930>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-c9f8a...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154CC0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E1567A0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB450>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1004' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app....
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:06:05.857 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
                 │    │     │                    └ <Request [b'POST']>
                 │    │     └ <function AsyncConnectionPool.handle_async_request at 0x000001F58E556200>
                 │    └ <AsyncConnectionPool [Requests: 0 active, 0 queued | Connections: 1 active, 0 idle]>
                 └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 232, in handle_async_request
    connection = await pool_request.wait_for_connection(timeout=timeout)
                       │            │                           └ 1.0
                       │            └ <function AsyncPoolRequest.wait_for_connection at 0x000001F58E555EE0>
                       └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 35, in wait_for_connection
    await self._connection_acquired.wait(timeout=timeout)
          │    │                    │            └ 1.0
          │    │                    └ <function AsyncEvent.wait at 0x000001F58E4E5080>
          │    └ <httpcore._synchronization.AsyncEvent object at 0x000001F58E577390>
          └ <httpcore._async.connection_pool.AsyncPoolRequest object at 0x000001F58E576990>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_synchronization.py", line 149, in wait
    with map_exceptions(anyio_exc_map):
         │              └ {<class 'TimeoutError'>: <class 'httpcore.PoolTimeout'>}
         └ <function map_exceptions at 0x000001F58E1E5800>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ TimeoutError()
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000001F58E4F9990>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F6C80>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
          └ <class 'httpcore.PoolTimeout'>

httpcore.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 292, in do_request
    res = await self._client.request(
                │    └ <member '_client' of 'HTTPXRequest' objects>
                └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
                 │    │    │             │                      └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    │             └ <httpx._client.UseClientDefault object at 0x000001F58C8E7230>
                 │    │    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                 │    └ <function AsyncClient.send at 0x000001F58C9E91C0>
                 └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001F58C9E9260>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001F58C9E9300>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
                     │    │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │    └ <function AsyncClient._send_single_request at 0x000001F58C9E93A0>
                     └ <httpx.AsyncClient object at 0x000001F58E22FD90>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
                     │         │                    └ <Request('POST', 'https://api.telegram.org/bot8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME/sendMessage')>
                     │         └ <function AsyncHTTPTransport.handle_async_request at 0x000001F58C9D5EE0>
                     └ <httpx.AsyncHTTPTransport object at 0x000001F58E574190>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         └ <function map_httpcore_exceptions at 0x000001F58C9D54E0>
  File "C:\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ PoolTimeout(TimeoutError())
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_httpcore_exceptions at 0x000001F58E54E740>
    └ <contextlib._GeneratorContextManager object at 0x000001F58E4F7930>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
          │          └ ''
          └ <class 'httpx.PoolTimeout'>

httpx.PoolTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001F588A451C0>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001F588A44F40>
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 14832)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 14832)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001F58B002520>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-c9f8a...
    │    └ <function ScriptRunner._run_script at 0x000001F58B01BEC0>
    └ ScriptRunner(_session_id='fba1ca5c-6c88-4ee1-97b6-5591c0cdb14d', _main_script_path='app.py', _session_state={$$WIDGET_ID-f974...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001F58B53D610, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001F58E154CC0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001F58E1567A0>
    │       └ <function run at 0x000001F58ABBFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001F58DFBB450>
           │      └ <function Runner.run at 0x000001F58AC15800>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1004' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app....
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F58AC13240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F58E552780>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F58AC131A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F58AC14FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F58AB96CA0>
    └ <Handle Task.task_wakeup()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001F58E08A160>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001F58E089F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001F58E01EDE0>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001F58E01EAC0>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001F58E01E840>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001F58E01EA20>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001F58C8BD6C0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001F58C8BD800>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 333, in _request_wrapper
    code, payload = await self.do_request(
                          │    └ <function HTTPXRequest.do_request at 0x000001F58DEF1080>
                          └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001F58E0939C0>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_httpxrequest.py", line 302, in do_request
    raise TimedOut(
          └ <class 'telegram.error.TimedOut'>

telegram.error.TimedOut: Pool timeout: All connections in the connection pool are occupied. Request was *not* sent to Telegram. Consider adjusting the connection pool size or the pool timeout.
2025-08-11 12:08:19.902 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:08:19.902 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:08:19.902 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:08:19.902 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:08:19.902 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:08:19.902 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:08:19.902 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
2025-08-11 12:08:20.527 | ERROR    | tg_client:broadcast:63 - Failed to send to @asinachisolvestech: Forbidden: bot is not a member of the channel chat
Traceback (most recent call last):

  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001EE854E51C0>
    └ <Thread(ScriptRunner.scriptThread, started 24352)>
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001EE854E4F40>
    └ <Thread(ScriptRunner.scriptThread, started 24352)>
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ScriptRunner.scriptThread, started 24352)>
    │    │        │    └ ()
    │    │        └ <Thread(ScriptRunner.scriptThread, started 24352)>
    │    └ <bound method ScriptRunner._run_script_thread of ScriptRunner(_session_id='2fbd6ab7-ba43-4aa4-803d-c31c8e9c24e7', _main_scrip...
    └ <Thread(ScriptRunner.scriptThread, started 24352)>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 309, in _run_script_thread
    self._run_script(request.rerun_data)
    │    │           │       └ <property object at 0x000001EE87A22570>
    │    │           └ ScriptRequest(type=<ScriptRequestType.RERUN: 'RERUN'>, _rerun_data=RerunData(widget_states=widgets {
    │    │               id: "$$WIDGET_ID-c9f8a...
    │    └ <function ScriptRunner._run_script at 0x000001EE87A3BEC0>
    └ ScriptRunner(_session_id='2fbd6ab7-ba43-4aa4-803d-c31c8e9c24e7', _main_script_path='app.py', _session_state={$$WIDGET_ID-3e88...
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\streamlit\runtime\scriptrunner\script_runner.py", line 589, in _run_script
    exec(code, module.__dict__)
         │     │      └ <member '__dict__' of 'module' objects>
         │     └ <module '__main__' from 'C:\\Users\\USER\\Desktop\\Python Programming\\asinachi_tg\\app.py'>
         └ <code object <module> at 0x000001EE87F6CA50, file "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 1>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 160, in <module>
    main()
    └ <function main at 0x000001EE8AB21F80>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 151, in main
    asyncio.run(run_broadcast_now(
    │       │   └ <function run_broadcast_now at 0x000001EE894F4A40>
    │       └ <function run at 0x000001EE875DFC40>
    └ <module 'asyncio' from 'C:\\Python313\\Lib\\asyncio\\__init__.py'>

  File "C:\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object run_broadcast_now at 0x000001EE8ABD0590>
           │      └ <function Runner.run at 0x000001EE87635800>
           └ <asyncio.runners.Runner object at 0x000001EE894E5950>
  File "C:\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-217' coro=<run_broadcast_now() running at C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.p...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001EE87633240>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001EE894E5950>
  File "C:\Python313\Lib\asyncio\base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001EE876331A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001EE87634FE0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Python313\Lib\asyncio\base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001EE875B6CA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001EE8AF559C0>()>
  File "C:\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001EE8AF559C0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001EE8AF559C0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000001EE8AF559C0>()>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\app.py", line 49, in run_broadcast_now
    await broadcast(bot, chat_ids=chat_ids, text=message_text, media_path=media_path, batch_size=batch_size)
          │         │             │              │                        │                      └ 15
          │         │             │              │                        └ None
          │         │             │              └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │             └ ['@asinachisolvestech']
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function broadcast at 0x000001EE8AAB2C00>

> File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 61, in broadcast
    await send_text(bot, cid, msg)
          │         │    │    └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │         │    └ '@asinachisolvestech'
          │         └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
          └ <function send_text at 0x000001EE8AAB2AC0>

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\tg_client.py", line 23, in send_text
    await bot.send_message(chat_id=chat_id, text=text, parse_mode=ParseMode.HTML)
          │   │                    │             │                │         └ <ParseMode.HTML>
          │   │                    │             │                └ <enum 'ParseMode'>
          │   │                    │             └ 'He is often considered the eldest of the three. The name "Shem" itself has Hebrew origins and means "name" or "fame". In rel...
          │   │                    └ '@asinachisolvestech'
          │   └ <function Bot.send_message at 0x000001EE8AA47920>
          └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]

  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 1029, in send_message
    return await self._send_message(
                 │    └ <function Bot._send_message at 0x000001EE8AA47600>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 745, in _send_message
    result = await self._post(
                   │    └ <function Bot._post at 0x000001EE8AA47380>
                   └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 623, in _post
    return await self._do_post(
                 │    └ <function Bot._do_post at 0x000001EE8AA47560>
                 └ Bot[token=8310300269:AAGEKLSD-zEF_C2CIlyDD_J9XKCjr1K02ME]
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\_bot.py", line 652, in _do_post
    result = await request.post(
                   │       └ <function BaseRequest.post at 0x000001EE892D98A0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001EE8ABD8D40>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 201, in post
    result = await self._request_wrapper(
                   │    └ <function BaseRequest._request_wrapper at 0x000001EE892D99E0>
                   └ <telegram.request._httpxrequest.HTTPXRequest object at 0x000001EE8ABD8D40>
  File "C:\Users\USER\Desktop\Python Programming\asinachi_tg\.venv\Lib\site-packages\telegram\request\_baserequest.py", line 373, in _request_wrapper
    raise Forbidden(message)
          │         └ 'Forbidden: bot is not a member of the channel chat'
          └ <class 'telegram.error.Forbidden'>

telegram.error.Forbidden: Forbidden: bot is not a member of the channel chat
2025-08-11 12:11:06.048 | INFO     | tg_client:broadcast:53 - Sending batch 1 - 1 chats
